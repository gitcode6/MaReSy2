@page
@model MaReSy2.Pages.LagerverwaltungBearbeitenSETModel

@{
    ViewData["Title"] = "SET bearbeiten";
}
<style>

    .btnSpeichern {
        color: white;
        background-color: #B70E0C;
    }

    .product-image {
        width: 200px;
        height: auto;
        margin: 20px 0;
    }
    .lagerverwaltung_lagerverwaltung {
        background-color: #403A60;
        padding-top: 10px;
        padding-bottom: 1px;
        text-align: center;
        font-family: Dunant;
    }

    .table_detail {
        padding: 2%;
        width: 100%;
        font-family: Dunant;
    }

    .form-group {
        margin: 20px;
    }

    .lagerverwaltung_bearbeitung {
        background-color: #99D6EA;
        padding: 20px;
        font-family: Dunant;
    }
</style>

<div class="lagerverwaltung_lagerverwaltung">
    <h1 style="color: white; font-size:50px;">Lager-Verwaltung</h1>
</div>
<br />

<div class="lagerverwaltung_bearbeitung">
    <h2 style="text-align: center;">SET Bearbeitung</h2>
    <form method="post">
        @* <div class="form-group">
        <input type="file" id="produktbild" class="form-control" onchange="previewImage(event)" asp-for="Produkt.Produktbild" />
        <br>
        <img id="imagePreview" src="" alt="Bildvorschau" style="display:none; width:25%" />
        </div> *@
        <div class="form-group">
            <label for="Setname">Setname</label>
            <input type="text" name="setname" id="setname" class="form-control"> <!-- asp-for="Produkt.Produktname" / -->
        </div>
        <div class="form-group">
            <label for="Setbeschreibung">Beschreibung</label>
            <input type="text" name="setbeschreibung" id="setbeschreibung" class="form-control"> <!-- asp-for="Produkt.Produktbeschreibung"/ -->
        </div>
        <div class="form-group">
            <label for="Setmenge">Menge</label>
            <input type="number" name="setmenge" id="setmenge" class="form-control" placeholder=""> <!-- asp-for="Produkt.Produktmenge"/ -->
        </div>
        <div class="form-group">
            <label for="Setstatus">Status</label>
            <select name="setstatus" id="setstatus" class="form-control">
                <!-- asp-for="Produkt.Produktstatus"/ -->
                <option name="aktiv" value="true" selected>Aktiv</option>
                <option name="inaktiv" value="false">Inaktiv</option>
            </select>
        </div>
        <br />
        <h2>Produkte auswählen</h2>

        <div class="table_detail">
            <table class="table">
                <thead>
                    <tr style="vertical-align: middle;">
                        <th>Filter</th>
                        <th><input type="text" id="filterBezeichnung" placeholder="Bezeichnung" oninput="filterTable()"></th>
                        <th><input type="text" id="filterBeschreibung" placeholder="Beschreibung" oninput="filterTable()"></th>
                        <th></th>
                        <th>
                            <select id="statusFilter" onchange="filterTable()">
                                <option value="">Alle</option>
                                <option value="Aktiv">Aktiv</option>
                                <option value="Inaktiv">Inaktiv</option>
                            </select>
                        </th>
                    </tr>
                    <tr style="vertical-align: middle;">
                        <th width="4%">ID</th>
                        <th width="21%">Bezeichnung</th>
                        <th width="40%">Beschreibung</th>
                        <th width="7%">Menge</th>
                        <th width="4%">Status</th>
                        <th width="24%">Tools</th>
                    </tr>
                </thead>
                <tbody id="userTableBody">
                    <!-- Tabelleinträge hier hinzufügen -->
                    <tr style="vertical-align: middle;">
                        <td>1</td>
                        <td>Produkt A</td>
                        <td>Ein Beispielprodukt</td>
                        <td>10</td>
                        <td>Aktiv</td>
                        <td>
                            <a class="btn btn-primary" style="background-color: #A0DAB3; border: #A0DAB3;">Produkt hinzufügen</a>
                        </td>
                    </tr>

                    @*
                    @foreach (var e in Model.products)
                    {
                    <tr style="vertical-align: middle;">
                    <td>@e.productId</td>
                    <td>@e.productname</td>
                    <td>@e.productdescription</td>
                    <td>@e.productamount</td>
                    <td>@(e.productactive ? "Aktiv" : "Inaktiv")</td>
                    <td>
                    <!-- BEARBEITEN UND LÖSCHEN BUTTONS -->
                    <a class="btn btn-primary" asp-page="/LagerverwaltungBearbeiten" asp-route-id="1" asp-route-produktname="Erste-Hilfe-Koffer" asp-route-produktbeschreibung="Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum." asp-route-pfadbild="~/images/Übungsmedikament1.JPG" asp-route-menge="5" asp-route-status="Aktiv" style="background-color: #403A60;">Bearbeiten</a>
                    <a class="btn btn-danger" asp-page="/Delete" asp-route-id="1" style="background-color: #B70E0C;">Löschen</a>
                    </td>
                    </tr>
                    } *@
                </tbody>
            </table>
        </div>

        <br />
        <h2>Anzahl definieren</h2>
        <div class="table_detail">
            <table class="table">
                <thead>
                    <tr style="vertical-align: middle;">
                        <th>Filter</th>
                        <th><input type="text" id="filterBezeichnung" placeholder="Bezeichnung" oninput="filterTable()"></th>
                        <th><input type="text" id="filterBeschreibung" placeholder="Beschreibung" oninput="filterTable()"></th>
                        <th></th>
                        <th>
                        </th>
                    </tr>
                    <tr style="vertical-align: middle;">
                        <th width="4%">ID</th>
                        <th width="21%">Bezeichnung</th>
                        <th width="40%">Beschreibung</th>
                        <th width="7%">Menge</th>
                        <th width="24%">Tools</th>
                    </tr>
                </thead>
                <tbody id="userTableBody">
                    <!-- Tabelleinträge hier hinzufügen -->
                    <tr style="vertical-align: middle;">
                        <td>3</td>
                        <td>Produkt B</td>
                        <td>Ein Beispielprodukt</td>
                        <td><input type="text" id="mengeprodukt" placeholder="Menge"></td>
                        <td>
                            <a class="btn btn-primary" style="background-color: #B70E0C; border: #B70E0C;">Produkt entfernen</a>
                        </td>
                    </tr>

                    @*
                    @foreach (var e in Model.products)
                    {
                    <tr style="vertical-align: middle;">
                    <td>@e.productId</td>
                    <td>@e.productname</td>
                    <td>@e.productdescription</td>
                    <td>@e.productamount</td>
                    <td>@(e.productactive ? "Aktiv" : "Inaktiv")</td>
                    <td>
                    <!-- BEARBEITEN UND LÖSCHEN BUTTONS -->
                    <a class="btn btn-primary" asp-page="/LagerverwaltungBearbeiten" asp-route-id="1" asp-route-produktname="Erste-Hilfe-Koffer" asp-route-produktbeschreibung="Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum. Lorem ipsum." asp-route-pfadbild="~/images/Übungsmedikament1.JPG" asp-route-menge="5" asp-route-status="Aktiv" style="background-color: #403A60;">Bearbeiten</a>
                    <a class="btn btn-danger" asp-page="/Delete" asp-route-id="1" style="background-color: #B70E0C;">Löschen</a>
                    </td>
                    </tr>
                    } *@
                </tbody>
            </table>
        </div>

        <button type="submit" class="btn btnSpeichern" style="background-color: #403A60;">Speichern</button>
        <a asp-page="/Lagerverwaltung" class="btn btn-secondary" style="background-color: #B70E0C;">Abbrechen</a>
    </form>
</div>

<script>
    function previewImage(event) {
        const file = event.target.files[0]; // Die ausgewählte Datei
        const reader = new FileReader();

        reader.onload = function () {
            const imagePreview = document.getElementById('imagePreview');
            imagePreview.src = reader.result; // Setze die Quelle des Bildes auf das gelesene Ergebnis
            imagePreview.style.display = 'block'; // Zeige das Bild an
        }

        if (file) {
            reader.readAsDataURL(file); // Lese die Datei als Data-URL
        }
    }
</script>